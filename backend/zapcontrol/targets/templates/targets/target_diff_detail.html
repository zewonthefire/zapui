{% extends "core/base.html" %}
{% block title %}Scan Diff{% endblock %}
{% block content %}
<h1 class="h3">Scan diff for {{ target.name }}</h1>
<p>
  From scan #{{ comparison.from_scan_job_id }} → to scan #{{ comparison.to_scan_job_id }}
  (risk delta: <strong>{{ comparison.risk_delta }}</strong>)
</p>

<div class="row mt-3">
  <div class="col-md-6">
    <div class="card">
      <div class="card-body">
        <h2 class="h5 text-danger">New findings ({{ new_findings|length }})</h2>
        <ul class="list-group list-group-flush">
          {% for finding in new_findings %}
          <li class="list-group-item">
            <strong>{{ finding.severity }}</strong> — {{ finding.title }}
          </li>
          {% empty %}
          <li class="list-group-item text-muted">No new findings.</li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>
  <div class="col-md-6">
    <div class="card">
      <div class="card-body">
        <h2 class="h5 text-success">Resolved findings ({{ resolved_findings|length }})</h2>
        <ul class="list-group list-group-flush">
          {% for finding in resolved_findings %}
          <li class="list-group-item">
            <strong>{{ finding.severity }}</strong> — {{ finding.title }}
          </li>
          {% empty %}
          <li class="list-group-item text-muted">No resolved findings.</li>
          {% endfor %}
        </ul>
      </div>
    </div>
  </div>
</div>
{% endblock %}
